<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags for Bootstrap-->
    <meta charset="utf-8"/>
    <!--Responsive meta tag. Necessary for Bootstrap to ensure proper rendering and touch zooming for all devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--tablesorter.js pagination and themes only work with jqueryEdge-->
    <script type="text/javascript" src="./tablesorter/js/jqueryEdge.js"> </script>
    <!--Bootstrap framework files-->
    <!--bootstrap.bundle.js and bootstrap.bundle.min.js include Popper, but not jQuery-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="./bootstrap-4.1.3-dist/js/bootstrap.bundle.js"> </script>  
    <script src="./bootstrap-4.1.3-dist/js/bootstrap.js"> </script> 

    <!--Adds Bootstrap support for IE8 HTML 5 and media queries-->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!--Tablesorter.js scripts for table sorting, table pagination -->
    <!--For sorting tables by clicking on header -->
    <script type="text/javascript" src="./tablesorter/js/jquery.tablesorter.js"> </script>
    <script type="text/javascript" src="./tablesorter/js/jquery.tablesorter.pager.js"></script> 
    <script type="text/javascript" src="./tablesorter/js/jquery.tablesorter.widgets.js">
    </script> 
    <!--Theme for results table-->
    <link rel="stylesheet" href="./tablesorter/themes/blue/style.css" type="text/css" media="print, projection, screen" />    

    <!--To operate the table-generating button-->
    <script type="text/javascript" src="js/generateButton.js"> </script>
    <!--Concerns score collection-->
    <script type="text/javascript" src="js/scoreCollection.js"></script>
    <!--Generates top 12 movies -->
    <script type="text/javascript" src="js/topTwelve.js"> </script>
    
    <!--Contains styling for banner and headers-->
    <link rel="stylesheet" href="css/styles.css">
    <!--Contains styling for banner and headers-->
    <link rel="stylesheet" href="css/wrapper.css">
   

    <script type="text/javascript">
        //Hiding functions
        function revealRecommendationGenerator(){
            document.getElementById("hiddenRecomendationGeneratorPt1").style.display='block';
            document.getElementById("hiddenRecomendationGeneratorPt2").style.display='block';
            document.getElementById("hiddenRecomendationGeneratorPt3").style.display='block';
            document.getElementById("hiddenRecomendationGeneratorPt4").style.display='block';
            document.getElementById("hiddenRecomendationGeneratorPt5").style.display='block';
        };
        //Reveal "Back to top"
        function revealBackToTop(){
            document.getElementById("backToTop").style.display='block'; //Reveals 'back to top' button
        }
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            /*On page refresh, scroll back to top*/
            $(this).scrollTop(0);
        });
        
        //Clears the radio and checkbox on page 
        //If not reset, buttons appear selected but recording variables set to default '1'
        window.onload = function(){
            metascoreRadio.reset();
            imdbRatingRadio.reset();
            directorRadio.reset();
            leadRadio.reset();
            supportRadio.reset();
            
            //Resets drop down boxes to the first option in the box
            $(document).ready(function() {
                $('#genre').find('option:first').attr('selected','selected');
                $('#subgenre').find('option:first').attr('selected','selected');
                $('#sortResults').find('option:first').attr('selected','selected');
                $('#sortOrder').find('option:first').attr('selected','selected');
                $('#audienceRating').find('option:first').attr('selected','selected');
            });
        } 
    
    function backToTop() {
        const element = document.getElementById("hiddenRecomendationGeneratorPt1");
        element.scrollIntoView(true);
    }
    </script>
   

</head>

<body>
    <title>AMovie Recommender</title>          
    <!--Don't put into <div>. The edges of the banner will be padded automatically to fit the 12 columns. Let it spill over-->
    <img id="bannerImg" src="./icons/banner.jpg" alt="banner">
    <p></p>
     
    <div class="col-sm-12">
        <h1>Top 12 movies of 2017-2018</h1>
        <!--Runs topTwelve.js when the page is loaded/refreshed to generate the wrapper-->  
        <section id='wrap' onload="js/topTwelve.js"></section>
        <p></p>
        <button class="startButton startButtonTransition" id="start_button" onclick="revealRecommendationGenerator(); this.style.display='none'">Create Your Recommendation</button>
        <p></p>
    </div>

    <div class="container-fluid"></div>  
        <div class="col-sm-12" id="hiddenRecomendationGeneratorPt1" style="display:none">
            <h2>Select relevant genre(s)</h2>
            Main genre
            <select id="genre">
                <option value="Action">Action</option>
                <option value="Adventure">Adventure</option>
                <option value="Animation">Animation</option>
                <option value="Biography">Biography</option>
                <option value="Comedy">Comedy</option>
                <option value="Drama">Drama</option>
                <option value="Family">Family</option>
                <option value="Fantasy">Fantasy</option>
                <option value="Horror">Horror</option>
                <option value="Mystery">Mystery</option>
                <option value="Sci-Fi">Sci-Fi</option>
            </select>
            &nbsp;&nbsp;Sub-genre
            <select id="subgenre">
                <option value="None">None</option>
                <option value="Action">Action</option>
                <option value="Adventure">Adventure</option>
                <option value="Comedy">Comedy</option>
                <option value="Crime">Crime</option>
                <option value="Drama">Drama</option>
                <option value="Family">Family</option>
                <option value="Fantasy">Fantasy</option>
                <option value="Music">Music</option>
                <option value="Musical">Musical</option>
                <option value="Mystery">Mystery</option>
                <option value="Romance">Romance</option>
                <option value="Sci-Fi">Sci-Fi</option>
                <option value="Thriller">Thriller</option>
                <option value="War">War</option>
                <option value="Western">Western</option>
            </select>
            <p class="subtext" style="font-size:16px">Movies are categories by main genre, followed by sub-genre</p>
        </div>

        <div class="col-sm-12" id="hiddenRecomendationGeneratorPt2" style="display:none">
            <h2>Rank the importance of the following categories on a 1-5 scale</h2>
            <p class="subtext" style="font-size:16px">Leave irrelevant categories blank</p>
        </div>

        <div class="row">
            <div class="col-sm-6" id="hiddenRecomendationGeneratorPt3" style="display:none">
                <h3>Metacritic score</h3>
                <form name="metascoreRadio" action=""> <!--Tells browser where to send info. Eg process.php -->
                    <input type="radio" name="metascoreRating" value="1" onclick="metascoreRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star1vs5.png"/>
                    <input type="radio" name="metascoreRating" value="2" onclick="metascoreRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star2vs5.png"/>
                    <input type="radio" name="metascoreRating" value="3" onclick="metascoreRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star3vs5.png"/>
                    <input type="radio" name="metascoreRating" value="4" onclick="metascoreRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star4vs5.png"/>
                    <input type="radio" name="metascoreRating" value="5" onclick="metascoreRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star5vs5.png"/>
                </form>
                <br>
                <h3>IMDB rating</h3>
                <form name="imdbRatingRadio" action=""> <!--Tells browser where to send info. Eg process.php -->
                    <input type="radio" name="imdbRating" value="1" onclick="imdbRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star1vs5.png"/>
                    <input type="radio" name="imdbRating" value="2" onclick="imdbRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star2vs5.png"/>
                    <input type="radio" name="imdbRating" value="3" onclick="imdbRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star3vs5.png"/>
                    <input type="radio" name="imdbRating" value="4" onclick="imdbRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star4vs5.png"/>
                    <input type="radio" name="imdbRating" value="5" onclick="imdbRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star5vs5.png"/>
                </form>
                <br>
            </div>
            
            <div class="col-sm-6" id="hiddenRecomendationGeneratorPt4" style="display:none">
                <h3>Director</h3>
                <form name="directorRadio" action=""> <!--Tells browser where to send info. Eg process.php -->
                    <input type="radio" name="directorRating" value="1" onclick="directorRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star1vs5.png"/>
                    <input type="radio" name="directorRating" value="2" onclick="directorRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star2vs5.png"/>
                    <input type="radio" name="directorRating" value="3" onclick="directorRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star3vs5.png"/>
                    <input type="radio" name="directorRating" value="4" onclick="directorRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star4vs5.png"/>
                    <input type="radio" name="directorRating" value="5" onclick="directorRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star5vs5.png"/>
                </form>
                <br>
                <h3>Lead star</h3>
                <form name="leadRadio" action=""> <!--Tells browser where to send info. Eg process.php -->
                    <input type="radio" name="leadRating" value="1" onclick="leadRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star1vs5.png"/>
                    <input type="radio" name="leadRating" value="2" onclick="leadRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star2vs5.png"/>
                    <input type="radio" name="leadRating" value="3" onclick="leadRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star3vs5.png"/>
                    <input type="radio" name="leadRating" value="4" onclick="leadRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star4vs5.png"/>
                    <input type="radio" name="leadRating" value="5" onclick="leadRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star5vs5.png"/>
                </form>
                <br>
                <h3>Supporting stars</h3>
                <form name="supportRadio" action=""> <!--Tells browser where to send info. Eg process.php -->
                    <input type="radio" name="supportRating" value="1" onclick="supportRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star1vs5.png"/>
                    <input type="radio" name="supportRating" value="2" onclick="supportRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star2vs5.png"/>
                    <input type="radio" name="supportRating" value="3" onclick="supportRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star3vs5.png"/>
                    <input type="radio" name="supportRating" value="4" onclick="supportRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star4vs5.png"/>
                    <input type="radio" name="supportRating" value="5" onclick="supportRankScorer();"/>&nbsp;<img class="starRating" src="./icons/star5vs5.png"/>
                </form>
                <a href='https://openclipart.org/detail/117079/5-star-rating-system' class="attribution">Stars designed by openclipart</a>
            </div>
        </div>

        <div class="col-sm-12" id="hiddenRecomendationGeneratorPt5" style="display:none">
            <p></p>
            <!--Bootstrap Collapse hides Advanced options. "btn-basic" is a CSS colour reference-->
            <button type="button" class="btn btn-basic" data-toggle="collapse" data-target="#hiddenOptions">Advanced Options</button>
            <div id="hiddenOptions" class="collapse">  
                <p></p>
                Sort results according to:
                <select id="sortResults">
                    <option value="1">Year</option>
                    <option value="2">%Match score</option>
                    <option value="4">IMDB rating</option>
                    <option value="5">Metacritic rating</option>
                </select>
                &nbsp;&nbsp;&nbsp;Order:
                <select id="sortOrder">
                    <option value="1">Descending</option>
                    <option value="0">Ascending</option>
                </select> 
                <p></p>
                Exclude movies without audience rating:
                <select id="excludeUnrated">
                    <option value="*">No</option>
                    <option value="Unrated">Yes</option>
                </select>
                <p></p>
            </div>
            <p></p>
            <button id="generateButton" class="generateButton generateButtonTransition" onclick="revealBackToTop()">Generate Recommendations!</button>
            <p></p>
            <p></p>
        </div>

        <table id=resultsTable></table>
        <p></p>
        <button class="backToTop" id="backToTop" alignment="center" onclick="backToTop()" style="display:none">Back to Top</button>
        <p></p>
    </div>
</body>
</html>
